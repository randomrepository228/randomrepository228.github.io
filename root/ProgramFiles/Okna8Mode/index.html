<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="../../Winda/dwm.css">
        <link rel="stylesheet" href="../../Winda/fonts/fonts.css">
        <link rel="stylesheet" href="../../Winda/Resources/aero/style.css" id="theme">
        <meta name="viewport" content="width=device-width, initial-scale=0.6, user-scalable=no">
        <style>
            html { 
                overflow: auto; 
            } 
            body {
                overflow: none; 
                display: flex;
                align-items: flex-start;
                background-color: white;
                padding-top: 2px;
            }
            table{
                width: 100%;
            }
        </style>
        <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon"> 
    </head>
    <body>
        <table>
            <tr>
                <th width="200px">Select An Okna8 App</th>
            </tr>
            <tbody id="table"></tbody>
        </table>
        <script src="./script/search-data.js"></script>
        <script>
            function changeTheme(a){
                theme.href = "../../Winda/Resources/" + a + "/style.css"
            }
            changeTheme(localStorage.theme)
            onmessage = (e) => {
                const commands = e.data.split("|")
                console.log(e.data)
                if (commands[0] == "theme" && commands.length == 2)
                    changeTheme(commands[1])
            }
            if (!localStorage.OKNA8_locale){
                localStorage.OKNA8_NetworkDetecting = "true"
                localStorage.OKNA8_locale = "en-us"
                localStorage.OKNA8_lockscreenWallpaper = "img104"
                localStorage.OKNA8_pcname = "Okna 8 Runtime"
                localStorage.OKNA8_setupState = "1"
                localStorage.OKNA8_soundlevel = "50"
                localStorage.OKNA8_user_user0_StartScreenBackground = "22000"
                localStorage.OKNA8_user_user0_color_background = "0,60,0"
                localStorage.OKNA8_user_user0_color_foreground = "22,153,0"
                localStorage.OKNA8_user_user0_desktopWallpaper = "img0"
                localStorage.OKNA8_user_user0_eosnotify_skip = "true"
                localStorage.OKNA8_user_user0_password = ""
                localStorage["OKNA8_user_user0_startScreen-layout"] = "92metrotile, wide, 2, rgb(1,111,193), rgb(0,141,211), Mail, rgb(1,111,193), ../../metro/Mail, |metrotile, wide, 14, rgb(81,51,171), rgb(100,62,191), Sports, rgb(81,51,171), ../../metro/Sports, |metrotile, standart, 10, rgb(210,71,38), rgb(220,87,46), People, rgb(210,71,38), ../../metro/People, |metrotile, standart, 13, rgb(0,175,240), rgb(26,200,243), Skype, rgb(0,175,240), ../../metro/Skype, |desktoptile, wide, 6|metrotile, wide, 12, rgb(81,51,171), rgb(100,62,191), Calendar, rgb(81,51,171), ../../metro/Calendar, |metrotile, wide, 15, rgb(0,138,0), rgb(0,166,0), Money, rgb(0,138,0), ../../metro/Money, |metrotile, large, 11, rgb(38,114,236), rgb(46,141,239), Weather, rgb(38,114,236), ../../metro/Weather, |metrotile, standart, 5, rgb(38,114,236), rgb(46,141,239), InternetExplorer, rgb(38,114,236), ../../metro/InternetExplorer, |metrotile, standart, 4, rgb(210,71,38), rgb(220,86,46), Music, rgb(210,71,38), ../../metro/Music, |metrotile, wide, 16, rgb(0,130,153), rgb(0,160,177), Photos, rgb(0,130,153), ../../metro/Photos, "
                localStorage.OKNA8_user_user0_theme_color = "42,81,67"
                localStorage.OKNA8_user_user0_userPrepared = "true"
                localStorage.OKNA8_user_user0_username = "Okna 8 Mode User"
                localStorage.OKNA8_users = "user0"
            }
            for (let i = 1; i < LOCALE_searchdata.length; i++){
                if (LOCALE_searchdata[i][0].startsWith("desktop:") || LOCALE_searchdata[i][0] == "DESKTOP") continue
                let col = document.createElement("tr")
                col.setAttribute("ondblclick", `parent.loadAppNoInfo('${LOCALE_searchdata[i][0]}', '../ProgramFiles/Okna8Mode/apps/metro/')`)
                let row = document.createElement("td")
                row.innerHTML = LOCALE_searchdata[i][0];
                col.appendChild(row);
                table.appendChild(col);
            }
            parent.showWindow("../ProgramFiles/Okna8Mode/icon.png", frameElement.parentElement.parentElement.parentElement.getAttribute("windowid"));
        </script>
    </body>
</html>