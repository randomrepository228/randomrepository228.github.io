<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- <script>
            if(!localStorage.locale) window.location.href = "../Setup/"
            if(!localStorage.user) window.location.href = "../Setup/registeruser"
        </script> -->
        <script>
            function log(path){
                if(localStorage.verboseBoot == "true") if(verboseBoot){
                    verboseBoot.innerHTML += "Loaded: " + path + "<br>"
                    verboseBoot.scrollTo(0, verboseBoot.scrollHeight);
                }
            }
        </script>
        <script src="ver.js"></script>
        <style>
        #winload:first-child p{
            margin-left: 20px;
        }
        #winload:first-child{
            font-size: inherit;
            text-shadow: none;
            font-family: monospace !important;
        }
        #winload:first-child{
            margin: 0;
            background-color: black;
            color: white;
            font-size: 20px;
            padding: 5px 20px;
            box-sizing: border-box;
            font-family: monospace !important;
        }
        #winload:first-child cntr{
            background-color: rgb(200,200,200);
            text-align: center;
            position: absolute;
            width: calc(100% - 40px);
            margin-bottom: 30px;
            color: black
        }
        #winload:first-child cntr *{
            color: inherit;
        }
        #winload:first-child grey{
            color: rgb(150,150,150)
        }
        #winload:first-child .first{
            margin-top: 30px;
        }
        #winload:first-child option{
            margin-left: 30px;
        }
        #winload:first-child .selected{
            background-color: rgb(200,200,200);
            color: black;
        }
        #winload:first-child .bottom{
            position: absolute;
            bottom: 0;
            display: flex;
            justify-content: space-between;
            color: black;
            height: fit-content !important;
        }
        #winload:first-child left, #winload:first-child right{
            margin: 0 20px;
            height: fit-content !important;
        }
        #verboseBoot{
            color: white;
            height: calc(100vh - 82px);
            overflow: hidden;
        }
        </style>
        <title>Windows simulator</title>
        <style id="wallpaper">
            :root{
                --wallpaper: url("./Web/img0.jpg")
            }
        </style>
        <style>
            body{
                margin: 0;
                background-color: black;
                background-image: var(--wallpaper);
                background-size: 100% 100%;
                overflow: hidden;
            }
        </style>
        <style id="iframeignore"></style>
        <script src="applist.js"></script>
        <meta name="title" content="Winda7">
        <meta property="og:title" content="Winda7">
        <meta name="description" content="Winda7 is lightweight windows 7 simulator written in html, css, and js">
        <meta property="og:description" content="Winda7 is lightweight windows 7 simulator written in html, css, and js">
        <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon"> 
        <style id="taskbarheight">
            :root{
                --taskbar-height: 40px
            }
        </style>
        <link rel="stylesheet" href="./fonts/fonts.css">
        <link rel="stylesheet" href="dwm.css">
        <link rel="stylesheet" href="explorer.css">
        <link rel="stylesheet" href="./Resources/aero/style.css" id="theme">
        <!-- Why does it have to be like this -->
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/style.css">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/dropdown.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/hide_windows.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/hide_windows_hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/hide_windows_pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/icon.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/login.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/start_menu.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/table-top.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/taskbar-btn.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/taskbar_btn.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/taskbar_btn_focus.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img0.jpg">
        <!-- <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img1.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img2.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img3.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img4.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img5.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img6.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img7.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img8.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img9.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img10.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img11.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img12.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img13.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img14.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img15.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img16.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img17.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img18.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img19.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img20.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img21.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img22.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img23.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img24.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img25.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img26.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img27.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img28.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img29.jpg">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Web/img30.jpg"> -->
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/normal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/icon.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/glow.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/min/normal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/min/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/min/pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/min/icon.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/max/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/max/normal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/max/pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/max/icon.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/min/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/min/normal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/min/pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/min/icon.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/max/icon.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/close/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/close/normal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/close/pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/buttons/close/icon.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/glow.png">
        <link onload="log(this.getAttribute('href'))" as="style" rel="preload" href="./Resources/aero/style.css">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/window_aura.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/window_aura_mirror.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/window_side.png">
        <link onload="log(this.getAttribute('href'))" as="style" rel="preload" href="./Resources/basic/style.css">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/titlebar.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/basic/window_side.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/hover/left.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/hover/center.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/hover/right.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/normal/left.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/normal/center.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/normal/right.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/pressed/left.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/pressed/center.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/button/pressed/right.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/checkbox/unchecked/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/checkbox/unchecked/normal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/checkbox/unchecked/pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/checkbox/checked/hover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/checkbox/checked/normal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/checkbox/checked/pressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/lonenormal.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/lonepressed.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/aero/buttons/close/lonehover.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/selectionBig/hover/left.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/selectionBig/hover/center.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/selectionBig/hover/right.png">
        <!-- <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/selectionSmall/hover/left.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/selectionSmall/hover/center.png">
        <link onload="log(this.getAttribute('href'))" as="image" rel="preload" href="./Resources/selectionSmall/hover/right.png"> -->
        <meta name="viewport" content="width=device-width, initial-scale=0.6, user-scalable=no">
        <style>
            @media (max-aspect-ratio: 1/1) {
                #verboseBoot{
                    font-size: 13px !important;
                }
            }
        </style>
    </head>
    <body>
        <div id="winload" style="width: 100%; height: 100%; overflow: hidden; background-color: black; position: relative;">
            <div style="display: none">
                <cntr style="color: black">Loading Winda Files</cntr><br>
                <div id="verboseBoot"></div>
                <!-- Выберите операционную систему для запуска<br>
                <grey>(Выбирать можно стрелочками)</grey><br>
                <option link="./Winda" class="selected first">Winda7</option>
                <option link="../">Другая система</option> -->
                <cntr class="bottom"  style="color: black">
                    <left>Please wait...</left>
                    <right></right>
                </cntr>
            </div>
            <!-- <script>
                optionlist = document.getElementsByTagName("option")
                selected = 0
                function tapHandler(e){
                    // if (e.key == "ArrowUp"){
                    //     if(selected > 0){
                    //         optionlist[selected].className = undefined
                    //         selected--
                    //         optionlist[selected].className = "selected"
                    //     }
                    // }
                    // if (e.key == "ArrowDown"){
                    //     if(selected < optionlist.length-1){
                    //         optionlist[selected].className = undefined
                    //         selected++
                    //         optionlist[selected].className = "selected"
                    //     }
                    // }
                    // if (e.key == "Enter"){
                        window.location.href = document.getElementsByClassName("selected")[0].getAttribute("link")
                    // }
                }
                document.addEventListener("mousedown", (e) => tapHandler(e))
                document.addEventListener("keydown", (e) => {if (e.keyCode === 13) tapHandler(e)})
                if (!localStorage.showBootMenu)
                    window.location.href = document.getElementsByClassName("selected")[0].getAttribute("link")
            </script> -->
            <div style="display: none; text-align: center; font-family: sans-serif !important; position: absolute; height: calc(50vh + 100px); top: calc(50vh - 100px); width: 100vw;">
                <video muted autoplay width="200px" height="200px" id="bootAnimation" preload="metadata">
                    <source src="../boot.webm" type="video/webm">
                </video>
                <p style="font-size: 20px; color: white; margin: 0; margin-top: 50px;">Loading Winda</p><br>
                <p style="font-size: 20px; color: gray; margin-left: 0; position: absolute; bottom: 20px; left: 50vw; transform: translateX(-50%);">By kitaes</p>
            </div>
            <script>
                if(localStorage.verboseBoot == "true")
                    winload.children[0].style.display = "block"
                else
                    winload.children[1].style.display = "block"
            </script>
        </div>
        <div class="context-menu" id="contextMenuElement">
            <div class="context-menu-option">(No options available)</div>
        </div>
        <div class="logonui" style="display: none">

        </div>
        <div class="explorer" style="display: none;">
            <div class="icons" oncontextmenu="contextMenu(event);" onclick="contextMenuOff();"></div>
            <div class="start-menu winapi_transparent">
                <div class="left-start"></div>
                <div class="right-start">
                    <div class="rstop">
                        <div class="start-option-right">SYSTEM</div>
                        <div class="start-option-right" onclick="startMenu(false);loadApp('control')">Control Panel</div>
                    </div>
                    <div class="select">
                        <select name="startMenuSessionActionSelect" onchange="if(this.value == 'shutdown') shutdown(); if(this.value == 'logoff') logoff(); this.value = 'none'">
                            <option value="none" disabled selected hidden>Shutdown</option>
                            <option value="shutdown">Shutdown</option>
                            <option value="logoff">Log off</option>
                        </select>
                        <selecticon></selecticon>
                    </div>
                </div>
            </div>
            <bottomright>Winda7<br><div id="explorerbottomrightinfo">Build VERSION</div> Winda applications may not work under &lt;iframe&gt;</bottomright>
            <div class="taskbar">
                <div class="wrapper" onclick="startMenu(true)">
                    <img onload="log(this.getAttribute('src'))" class="taskbar-btn" src="./Resources/taskbar-btn.png"></img>
                    <div class="taskbar-btn-orb"></div>
                </div>
                <div class="left-bar"></div>
                <div class="right-bar">
                    <div id="trayicons">
                        <div class="trayicon n1">
                            <div style="width: 24px; margin-bottom: -40px; height: 40px;" onclick="showTray(getTray(1))"></div>
                            <iframe src="../ProgramFiles/update/tray.html" windowid="1" name="Winda Update" frameborder="0" style="width: 24px"></iframe>
                        </div>
                        <div class="trayicon n0">
                            <div style="width: 79px; margin-bottom: -40px; height: 40px;" onclick="showTray(getTray(0))"></div>
                            <iframe src="../ProgramFiles/clock/tray.html" class="monochrome" windowid="0" name="Clock" frameborder="0" style="width: 79px"></iframe>
                        </div>
                    </div>
                    <div class="show-desktop" onclick="minimiseAll()"></div>
                </div>
            </div>
            <script src="explorer.js" defer></script>
        </div>
        <script src="ntoskrnl.js" defer></script>
        <div id="windows"></div>
        <div id="trays">
            <div class="dock-br winapi_transparent winapi_shadow n0 tray" windowid="0" name="Clock" style="display: none; width: 322px; height: 280px;">
                <div class="content">
                    <iframe src="../ProgramFiles/clock/index.html" frameborder="0"></iframe>
                </div>
            </div>
            <div class="dock-br winapi_transparent winapi_shadow n1 tray" windowid="1" name="Winda Update" style="display: none; width: 300px; height: 100px;">
                <div class="content">
                    <iframe src="../ProgramFiles/update/index.html" frameborder="0"></iframe>
                </div>
            </div>
        </div>
    </body>
</html>